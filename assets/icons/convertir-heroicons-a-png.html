<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Convertir Heroicons SVG a PNG</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            max-width: 900px;
            margin: 2rem auto;
            padding: 2rem;
            background: #f5f5f5;
        }
        .container {
            background: white;
            padding: 2rem;
            border-radius: 12px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }
        h1 {
            margin-top: 0;
            margin-bottom: 0.5rem;
        }
        .subtitle {
            color: #666;
            margin-bottom: 2rem;
        }
        .icon-item {
            display: flex;
            align-items: center;
            gap: 1rem;
            padding: 1rem;
            border: 1px solid #e5e5e5;
            border-radius: 8px;
            margin-bottom: 1rem;
            background: #fafafa;
        }
        .icon-preview {
            width: 64px;
            height: 64px;
            border: 1px solid #e5e5e5;
            border-radius: 4px;
            display: flex;
            align-items: center;
            justify-content: center;
            background: white;
            flex-shrink: 0;
        }
        .icon-info {
            flex: 1;
        }
        .icon-name {
            font-weight: 600;
            margin-bottom: 0.25rem;
        }
        .icon-size {
            color: #666;
            font-size: 0.875rem;
        }
        button {
            background: #000;
            color: white;
            border: none;
            padding: 0.75rem 1.5rem;
            border-radius: 6px;
            cursor: pointer;
            font-size: 0.875rem;
            font-weight: 500;
            transition: all 0.2s;
        }
        button:hover {
            background: #333;
            transform: translateY(-1px);
        }
        button:disabled {
            background: #ccc;
            cursor: not-allowed;
            transform: none;
        }
        .status {
            font-size: 0.875rem;
            margin-left: 0.5rem;
        }
        .status.success {
            color: #10b981;
        }
        .status.error {
            color: #ef4444;
        }
        .instructions {
            background: #f9f9f9;
            padding: 1.5rem;
            border-radius: 8px;
            margin-top: 2rem;
            border-left: 4px solid #000;
        }
        .instructions h3 {
            margin-bottom: 0.75rem;
        }
        .instructions ol {
            margin-left: 1.5rem;
        }
        .instructions li {
            margin-bottom: 0.5rem;
        }
        code {
            background: #f0f0f0;
            padding: 0.125rem 0.375rem;
            border-radius: 3px;
            font-size: 0.875rem;
        }
        .badge {
            display: inline-block;
            background: #000;
            color: white;
            padding: 0.25rem 0.5rem;
            border-radius: 4px;
            font-size: 0.75rem;
            font-weight: 600;
            margin-bottom: 1rem;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="badge">Heroicons - Tailwind CSS</div>
        <h1>ðŸŽ¨ Convertir Iconos Heroicons a PNG</h1>
        <p class="subtitle">Convierte los iconos SVG de Heroicons a formato PNG para uso en el plugin</p>
        
        <div id="icons-container"></div>
        
        <div class="instructions">
            <h3>ðŸ“‹ Instrucciones:</h3>
            <ol>
                <li>Haz clic en "Descargar PNG" para cada icono</li>
                <li>Guarda cada archivo en la carpeta <code>assets/icons/</code></li>
                <li>AsegÃºrate de que los nombres sean exactos (ej: <code>photo.png</code>, <code>document-text.png</code>)</li>
                <li>Una vez descargados todos, recarga la pÃ¡gina del plugin</li>
            </ol>
        </div>
    </div>

    <script>
        // Iconos Heroicons seleccionados para diseÃ±o moderno
        const icons = [
            { name: 'photo', size: 24, description: 'ImÃ¡genes' },
            { name: 'document-text', size: 24, description: 'PÃ¡ginas' },
            { name: 'cog-6-tooth', size: 24, description: 'ConfiguraciÃ³n' },
            { name: 'chevron-left', size: 24, description: 'Anterior' },
            { name: 'chevron-right', size: 24, description: 'Siguiente' },
            { name: 'x-mark', size: 24, description: 'Cerrar' },
            { name: 'check', size: 24, description: 'Check' },
            { name: 'arrow-top-right-on-square', size: 16, description: 'Enlace externo' }
        ];

        const container = document.getElementById('icons-container');

        icons.forEach(icon => {
            const item = document.createElement('div');
            item.className = 'icon-item';
            item.id = `icon-${icon.name}`;
            
            const preview = document.createElement('div');
            preview.className = 'icon-preview';
            const img = document.createElement('img');
            img.src = `${icon.name}.svg`;
            img.width = icon.size;
            img.height = icon.size;
            img.style.maxWidth = '100%';
            img.style.height = 'auto';
            img.onerror = function() {
                // Fallback a Iconify API si el SVG local no existe
                this.src = `https://api.iconify.design/heroicons-outline/${icon.name}.svg?width=${icon.size}&height=${icon.size}`;
            };
            preview.appendChild(img);
            
            const info = document.createElement('div');
            info.className = 'icon-info';
            info.innerHTML = `
                <div class="icon-name">${icon.name}.png</div>
                <div class="icon-size">${icon.description} â€¢ ${icon.size}x${icon.size}px</div>
            `;
            
            const status = document.createElement('span');
            status.className = 'status';
            status.id = `status-${icon.name}`;
            
            const downloadBtn = document.createElement('button');
            downloadBtn.textContent = 'Descargar PNG';
            downloadBtn.id = `btn-${icon.name}`;
            downloadBtn.onclick = () => downloadAsPNG(icon.name, icon.size, downloadBtn, status);
            
            item.appendChild(preview);
            item.appendChild(info);
            const btnContainer = document.createElement('div');
            btnContainer.style.display = 'flex';
            btnContainer.style.alignItems = 'center';
            btnContainer.appendChild(downloadBtn);
            btnContainer.appendChild(status);
            item.appendChild(btnContainer);
            container.appendChild(item);
        });

        function downloadAsPNG(iconName, size, button, statusElement) {
            button.disabled = true;
            statusElement.textContent = 'Convirtiendo...';
            statusElement.className = 'status';
            
            // Cargar SVG local primero, si no existe usar la URL remota
            fetch(`${iconName}.svg`)
                .then(response => {
                    if (!response.ok) {
                        // Fallback a Iconify API
                        return fetch(`https://api.iconify.design/heroicons-outline/${iconName}.svg?width=${size}&height=${size}`);
                    }
                    return response;
                })
                .then(response => response.text())
                .then(svg => {
                    return new Promise((resolve, reject) => {
                        const canvas = document.createElement('canvas');
                        const ctx = canvas.getContext('2d');
                        canvas.width = size;
                        canvas.height = size;
                        
                        const img = new Image();
                        img.onload = () => {
                            ctx.clearRect(0, 0, size, size);
                            ctx.drawImage(img, 0, 0, size, size);
                            
                            canvas.toBlob(blob => {
                                if (blob) {
                                    const url = URL.createObjectURL(blob);
                                    const a = document.createElement('a');
                                    a.href = url;
                                    a.download = `${iconName}.png`;
                                    document.body.appendChild(a);
                                    a.click();
                                    document.body.removeChild(a);
                                    URL.revokeObjectURL(url);
                                    
                                    statusElement.textContent = 'âœ“ Descargado';
                                    statusElement.className = 'status success';
                                    button.disabled = false;
                                    resolve();
                                } else {
                                    reject(new Error('Error al crear PNG'));
                                }
                            }, 'image/png');
                        };
                        
                        img.onerror = () => reject(new Error('Error al cargar SVG'));
                        
                        // Convertir SVG a data URL
                        const svgBlob = new Blob([svg], { type: 'image/svg+xml;charset=utf-8' });
                        const url = URL.createObjectURL(svgBlob);
                        img.src = url;
                    });
                })
                .catch(err => {
                    console.error('Error:', err);
                    statusElement.textContent = 'âœ— Error';
                    statusElement.className = 'status error';
                    button.disabled = false;
                    alert('Error al convertir. AsegÃºrate de que el archivo SVG existe en esta carpeta.\n\nSi no existe, descÃ¡rgalo primero usando el script descargar-heroicons.ps1');
                });
        }
    </script>
</body>
</html>

